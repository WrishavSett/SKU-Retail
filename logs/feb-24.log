|INFO| FAISS index and metadata found. Skipping build. Use --build to force rebuild.
|INFO| Initializing LLM re-ranker with model: qwen2.5:7b

|INFO| Processing transaction file: dataset/transaction/feb-24.csv
|INFO| Running initial semantic matching for feb-24
Transaction Queries:   0%|          | 0/43 [00:00<?, ?it/s]Transaction Queries:   2%|▏         | 1/43 [00:01<00:51,  1.22s/it]Transaction Queries:   5%|▍         | 2/43 [00:01<00:32,  1.27it/s]Transaction Queries:   7%|▋         | 3/43 [00:02<00:25,  1.58it/s]Transaction Queries:   9%|▉         | 4/43 [00:02<00:22,  1.75it/s]Transaction Queries:  12%|█▏        | 5/43 [00:03<00:23,  1.62it/s]Transaction Queries:  14%|█▍        | 6/43 [00:03<00:21,  1.73it/s]Transaction Queries:  16%|█▋        | 7/43 [00:04<00:22,  1.60it/s]Transaction Queries:  19%|█▊        | 8/43 [00:05<00:29,  1.18it/s]Transaction Queries:  21%|██        | 9/43 [00:07<00:33,  1.02it/s]Transaction Queries:  23%|██▎       | 10/43 [00:08<00:35,  1.06s/it]Transaction Queries:  26%|██▌       | 11/43 [00:09<00:36,  1.13s/it]Transaction Queries:  28%|██▊       | 12/43 [00:10<00:35,  1.13s/it]Transaction Queries:  30%|███       | 13/43 [00:12<00:35,  1.18s/it]Transaction Queries:  33%|███▎      | 14/43 [00:13<00:34,  1.18s/it]Transaction Queries:  35%|███▍      | 15/43 [00:14<00:32,  1.18s/it]Transaction Queries:  37%|███▋      | 16/43 [00:15<00:32,  1.20s/it]Transaction Queries:  40%|███▉      | 17/43 [00:16<00:31,  1.20s/it]Transaction Queries:  42%|████▏     | 18/43 [00:18<00:30,  1.21s/it]Transaction Queries:  44%|████▍     | 19/43 [00:19<00:28,  1.19s/it]Transaction Queries:  47%|████▋     | 20/43 [00:20<00:26,  1.16s/it]Transaction Queries:  49%|████▉     | 21/43 [00:21<00:25,  1.17s/it]Transaction Queries:  51%|█████     | 22/43 [00:22<00:24,  1.15s/it]Transaction Queries:  53%|█████▎    | 23/43 [00:23<00:22,  1.13s/it]Transaction Queries:  56%|█████▌    | 24/43 [00:24<00:21,  1.14s/it]Transaction Queries:  58%|█████▊    | 25/43 [00:25<00:19,  1.10s/it]Transaction Queries:  60%|██████    | 26/43 [00:27<00:19,  1.15s/it]Transaction Queries:  63%|██████▎   | 27/43 [00:28<00:18,  1.14s/it]Transaction Queries:  65%|██████▌   | 28/43 [00:29<00:16,  1.10s/it]Transaction Queries:  67%|██████▋   | 29/43 [00:30<00:15,  1.12s/it]Transaction Queries:  70%|██████▉   | 30/43 [00:31<00:14,  1.11s/it]Transaction Queries:  72%|███████▏  | 31/43 [00:32<00:12,  1.08s/it]Transaction Queries:  74%|███████▍  | 32/43 [00:33<00:11,  1.06s/it]Transaction Queries:  77%|███████▋  | 33/43 [00:34<00:10,  1.04s/it]Transaction Queries:  79%|███████▉  | 34/43 [00:35<00:09,  1.02s/it]Transaction Queries:  81%|████████▏ | 35/43 [00:36<00:08,  1.02s/it]Transaction Queries:  84%|████████▎ | 36/43 [00:37<00:07,  1.01s/it]Transaction Queries:  86%|████████▌ | 37/43 [00:38<00:05,  1.01it/s]Transaction Queries:  88%|████████▊ | 38/43 [00:39<00:04,  1.01it/s]Transaction Queries:  91%|█████████ | 39/43 [00:40<00:03,  1.00it/s]Transaction Queries:  93%|█████████▎| 40/43 [00:41<00:02,  1.04it/s]Transaction Queries:  95%|█████████▌| 41/43 [00:42<00:01,  1.04it/s]Transaction Queries:  98%|█████████▊| 42/43 [00:43<00:00,  1.02it/s]Transaction Queries: 100%|██████████| 43/43 [00:44<00:00,  1.05it/s]Transaction Queries: 100%|██████████| 43/43 [00:44<00:00,  1.03s/it]
INFO:llm_reranker:Loading matches from ./temp/feb-24_transaction_matches.csv
INFO:llm_reranker:Processing 129 match records...
INFO:llm_reranker:Grouping transactions by: ['t_ITEMCODE', 't_NEW_CODES', 't_STORECODE', 't_DATE']
|INFO| Saved transaction matches to ./temp/feb-24_transaction_matches.csv
|INFO| Running LLM re-ranking for feb-24
LLM Re-ranking:   0%|          | 0/43 [00:00<?, ?it/s]LLM Re-ranking:   2%|▏         | 1/43 [00:17<12:17, 17.57s/it]LLM Re-ranking:   5%|▍         | 2/43 [00:41<14:35, 21.36s/it]LLM Re-ranking:   7%|▋         | 3/43 [01:09<16:08, 24.20s/it]LLM Re-ranking:   9%|▉         | 4/43 [01:43<18:18, 28.17s/it]LLM Re-ranking:  12%|█▏        | 5/43 [02:23<20:40, 32.64s/it]LLM Re-ranking:  14%|█▍        | 6/43 [02:58<20:35, 33.40s/it]LLM Re-ranking:  16%|█▋        | 7/43 [03:32<20:04, 33.47s/it]LLM Re-ranking:  19%|█▊        | 8/43 [04:05<19:24, 33.28s/it]LLM Re-ranking:  21%|██        | 9/43 [04:38<18:46, 33.13s/it]LLM Re-ranking:  23%|██▎       | 10/43 [05:11<18:10, 33.05s/it]LLM Re-ranking:  26%|██▌       | 11/43 [05:44<17:38, 33.09s/it]LLM Re-ranking:  28%|██▊       | 12/43 [06:17<17:03, 33.01s/it]LLM Re-ranking:  30%|███       | 13/43 [06:49<16:27, 32.91s/it]LLM Re-ranking:  33%|███▎      | 14/43 [07:22<15:50, 32.77s/it]LLM Re-ranking:  35%|███▍      | 15/43 [07:53<15:06, 32.39s/it]LLM Re-ranking:  37%|███▋      | 16/43 [08:27<14:49, 32.93s/it]LLM Re-ranking:  40%|███▉      | 17/43 [08:59<14:06, 32.57s/it]LLM Re-ranking:  42%|████▏     | 18/43 [09:31<13:27, 32.28s/it]LLM Re-ranking:  44%|████▍     | 19/43 [10:02<12:49, 32.08s/it]LLM Re-ranking:  47%|████▋     | 20/43 [10:32<12:00, 31.33s/it]LLM Re-ranking:  49%|████▉     | 21/43 [11:03<11:27, 31.27s/it]LLM Re-ranking:  51%|█████     | 22/43 [11:33<10:47, 30.82s/it]LLM Re-ranking:  53%|█████▎    | 23/43 [12:04<10:20, 31.02s/it]LLM Re-ranking:  56%|█████▌    | 24/43 [12:34<09:41, 30.58s/it]LLM Re-ranking:  58%|█████▊    | 25/43 [13:05<09:14, 30.82s/it]LLM Re-ranking:  60%|██████    | 26/43 [13:35<08:36, 30.41s/it]LLM Re-ranking:  63%|██████▎   | 27/43 [14:04<08:03, 30.20s/it]LLM Re-ranking:  65%|██████▌   | 28/43 [14:34<07:30, 30.03s/it]LLM Re-ranking:  67%|██████▋   | 29/43 [15:02<06:50, 29.34s/it]LLM Re-ranking:  70%|██████▉   | 30/43 [15:31<06:22, 29.46s/it]LLM Re-ranking:  72%|███████▏  | 31/43 [15:59<05:46, 28.91s/it]LLM Re-ranking:  74%|███████▍  | 32/43 [16:29<05:20, 29.14s/it]LLM Re-ranking:  77%|███████▋  | 33/43 [16:57<04:47, 28.74s/it]LLM Re-ranking:  79%|███████▉  | 34/43 [17:24<04:14, 28.31s/it]LLM Re-ranking:  81%|████████▏ | 35/43 [17:52<03:44, 28.12s/it]LLM Re-ranking:  84%|████████▎ | 36/43 [18:19<03:15, 27.95s/it]LLM Re-ranking:  86%|████████▌ | 37/43 [18:46<02:46, 27.69s/it]LLM Re-ranking:  88%|████████▊ | 38/43 [19:12<02:15, 27.14s/it]LLM Re-ranking:  91%|█████████ | 39/43 [19:39<01:47, 26.98s/it]LLM Re-ranking:  93%|█████████▎| 40/43 [20:04<01:19, 26.55s/it]LLM Re-ranking:  95%|█████████▌| 41/43 [20:31<00:53, 26.56s/it]LLM Re-ranking:  98%|█████████▊| 42/43 [20:56<00:26, 26.28s/it]LLM Re-ranking: 100%|██████████| 43/43 [21:21<00:00, 25.87s/it]LLM Re-ranking: 100%|██████████| 43/43 [21:21<00:00, 29.81s/it]
INFO:llm_reranker:Saved LLM re-ranked results to ./temp/feb-24_llm_reranked.csv
INFO:llm_reranker:
==================================================
INFO:llm_reranker:LLM RE-RANKING SUMMARY
INFO:llm_reranker:==================================================
INFO:llm_reranker:Total transactions processed: 43
INFO:llm_reranker:Successfully re-ranked: 43 (100.0%)
INFO:llm_reranker:Rejected (no good match): 0 (0.0%)
INFO:llm_reranker:LLM query failures: 0 (0.0%)
INFO:llm_reranker:==================================================
|INFO| LLM re-ranking completed. Results saved to ./temp/feb-24_llm_reranked.csv
|INFO| Completed processing feb-24
