|INFO| FAISS index and metadata found. Skipping build. Use --build to force rebuild.
|INFO| Initializing LLM re-ranker with model: qwen2.5:7b

|INFO| Processing transaction file: dataset/transaction/jun-24.csv
|INFO| Running initial semantic matching for jun-24
Transaction Queries:   0%|          | 0/59 [00:00<?, ?it/s]Transaction Queries:   2%|▏         | 1/59 [00:01<01:08,  1.18s/it]Transaction Queries:   3%|▎         | 2/59 [00:01<00:43,  1.30it/s]Transaction Queries:   5%|▌         | 3/59 [00:02<00:35,  1.59it/s]Transaction Queries:   7%|▋         | 4/59 [00:02<00:30,  1.78it/s]Transaction Queries:   8%|▊         | 5/59 [00:03<00:28,  1.87it/s]Transaction Queries:  10%|█         | 6/59 [00:03<00:31,  1.70it/s]Transaction Queries:  12%|█▏        | 7/59 [00:04<00:29,  1.78it/s]Transaction Queries:  14%|█▎        | 8/59 [00:05<00:35,  1.45it/s]Transaction Queries:  15%|█▌        | 9/59 [00:06<00:44,  1.14it/s]Transaction Queries:  17%|█▋        | 10/59 [00:07<00:48,  1.01it/s]Transaction Queries:  19%|█▊        | 11/59 [00:09<00:51,  1.08s/it]Transaction Queries:  20%|██        | 12/59 [00:10<00:53,  1.13s/it]Transaction Queries:  22%|██▏       | 13/59 [00:11<00:52,  1.15s/it]Transaction Queries:  24%|██▎       | 14/59 [00:12<00:53,  1.19s/it]Transaction Queries:  25%|██▌       | 15/59 [00:13<00:51,  1.17s/it]Transaction Queries:  27%|██▋       | 16/59 [00:15<00:50,  1.18s/it]Transaction Queries:  29%|██▉       | 17/59 [00:16<00:51,  1.22s/it]Transaction Queries:  31%|███       | 18/59 [00:17<00:49,  1.21s/it]Transaction Queries:  32%|███▏      | 19/59 [00:18<00:48,  1.21s/it]Transaction Queries:  34%|███▍      | 20/59 [00:19<00:45,  1.17s/it]Transaction Queries:  36%|███▌      | 21/59 [00:21<00:44,  1.16s/it]Transaction Queries:  37%|███▋      | 22/59 [00:22<00:43,  1.17s/it]Transaction Queries:  39%|███▉      | 23/59 [00:23<00:40,  1.12s/it]Transaction Queries:  41%|████      | 24/59 [00:24<00:39,  1.13s/it]Transaction Queries:  42%|████▏     | 25/59 [00:25<00:38,  1.14s/it]Transaction Queries:  44%|████▍     | 26/59 [00:26<00:36,  1.11s/it]Transaction Queries:  46%|████▌     | 27/59 [00:27<00:36,  1.15s/it]Transaction Queries:  47%|████▋     | 28/59 [00:28<00:35,  1.13s/it]Transaction Queries:  49%|████▉     | 29/59 [00:29<00:33,  1.10s/it]Transaction Queries:  51%|█████     | 30/59 [00:31<00:32,  1.12s/it]Transaction Queries:  53%|█████▎    | 31/59 [00:32<00:30,  1.10s/it]Transaction Queries:  54%|█████▍    | 32/59 [00:33<00:29,  1.08s/it]Transaction Queries:  56%|█████▌    | 33/59 [00:34<00:27,  1.06s/it]Transaction Queries:  58%|█████▊    | 34/59 [00:35<00:25,  1.03s/it]Transaction Queries:  59%|█████▉    | 35/59 [00:36<00:24,  1.02s/it]Transaction Queries:  61%|██████    | 36/59 [00:37<00:23,  1.02s/it]Transaction Queries:  63%|██████▎   | 37/59 [00:38<00:22,  1.00s/it]Transaction Queries:  64%|██████▍   | 38/59 [00:39<00:20,  1.01it/s]Transaction Queries:  66%|██████▌   | 39/59 [00:40<00:19,  1.02it/s]Transaction Queries:  68%|██████▊   | 40/59 [00:41<00:18,  1.03it/s]Transaction Queries:  69%|██████▉   | 41/59 [00:41<00:17,  1.04it/s]Transaction Queries:  71%|███████   | 42/59 [00:42<00:16,  1.03it/s]Transaction Queries:  73%|███████▎  | 43/59 [00:43<00:15,  1.03it/s]Transaction Queries:  75%|███████▍  | 44/59 [00:44<00:14,  1.05it/s]Transaction Queries:  76%|███████▋  | 45/59 [00:45<00:13,  1.07it/s]Transaction Queries:  78%|███████▊  | 46/59 [00:46<00:12,  1.07it/s]Transaction Queries:  80%|███████▉  | 47/59 [00:47<00:10,  1.11it/s]Transaction Queries:  81%|████████▏ | 48/59 [00:48<00:09,  1.12it/s]Transaction Queries:  83%|████████▎ | 49/59 [00:49<00:09,  1.09it/s]Transaction Queries:  85%|████████▍ | 50/59 [00:50<00:08,  1.10it/s]Transaction Queries:  86%|████████▋ | 51/59 [00:51<00:07,  1.09it/s]Transaction Queries:  88%|████████▊ | 52/59 [00:51<00:06,  1.11it/s]Transaction Queries:  90%|████████▉ | 53/59 [00:52<00:05,  1.14it/s]Transaction Queries:  92%|█████████▏| 54/59 [00:53<00:04,  1.15it/s]Transaction Queries:  93%|█████████▎| 55/59 [00:54<00:03,  1.14it/s]Transaction Queries:  95%|█████████▍| 56/59 [00:55<00:02,  1.16it/s]Transaction Queries:  97%|█████████▋| 57/59 [00:56<00:01,  1.24it/s]Transaction Queries:  98%|█████████▊| 58/59 [00:56<00:00,  1.30it/s]Transaction Queries: 100%|██████████| 59/59 [00:57<00:00,  1.31it/s]Transaction Queries: 100%|██████████| 59/59 [00:57<00:00,  1.03it/s]
INFO:llm_reranker:Loading matches from ./temp/jun-24_transaction_matches.csv
INFO:llm_reranker:Processing 177 match records...
INFO:llm_reranker:Grouping transactions by: ['t_ITEMCODE', 't_NEW_CODES', 't_STORECODE', 't_DATE']
|INFO| Saved transaction matches to ./temp/jun-24_transaction_matches.csv
|INFO| Running LLM re-ranking for jun-24
LLM Re-ranking:   0%|          | 0/59 [00:00<?, ?it/s]LLM Re-ranking:   2%|▏         | 1/59 [00:22<21:53, 22.65s/it]LLM Re-ranking:   3%|▎         | 2/59 [00:47<22:30, 23.69s/it]LLM Re-ranking:   5%|▌         | 3/59 [01:18<25:13, 27.02s/it]LLM Re-ranking:   7%|▋         | 4/59 [01:56<28:51, 31.48s/it]LLM Re-ranking:   8%|▊         | 5/59 [02:32<29:47, 33.09s/it]LLM Re-ranking:  10%|█         | 6/59 [03:06<29:29, 33.39s/it]LLM Re-ranking:  12%|█▏        | 7/59 [03:39<28:47, 33.22s/it]LLM Re-ranking:  14%|█▎        | 8/59 [04:12<28:08, 33.11s/it]LLM Re-ranking:  15%|█▌        | 9/59 [04:44<27:27, 32.96s/it]LLM Re-ranking:  17%|█▋        | 10/59 [05:17<26:58, 33.03s/it]LLM Re-ranking:  19%|█▊        | 11/59 [05:50<26:24, 33.01s/it]LLM Re-ranking:  20%|██        | 12/59 [06:23<25:47, 32.92s/it]LLM Re-ranking:  22%|██▏       | 13/59 [06:56<25:15, 32.95s/it]LLM Re-ranking:  24%|██▎       | 14/59 [07:28<24:34, 32.76s/it]LLM Re-ranking:  25%|██▌       | 15/59 [08:02<24:07, 32.89s/it]LLM Re-ranking:  27%|██▋       | 16/59 [08:34<23:23, 32.65s/it]LLM Re-ranking:  29%|██▉       | 17/59 [09:05<22:36, 32.29s/it]LLM Re-ranking:  31%|███       | 18/59 [09:37<21:53, 32.03s/it]LLM Re-ranking:  32%|███▏      | 19/59 [10:06<20:54, 31.35s/it]LLM Re-ranking:  34%|███▍      | 20/59 [10:38<20:21, 31.32s/it]LLM Re-ranking:  36%|███▌      | 21/59 [11:07<19:31, 30.83s/it]LLM Re-ranking:  37%|███▋      | 22/59 [11:39<19:05, 30.97s/it]LLM Re-ranking:  39%|███▉      | 23/59 [12:08<18:22, 30.62s/it]LLM Re-ranking:  41%|████      | 24/59 [12:40<17:59, 30.83s/it]LLM Re-ranking:  42%|████▏     | 25/59 [13:09<17:11, 30.33s/it]LLM Re-ranking:  44%|████▍     | 26/59 [13:39<16:36, 30.21s/it]LLM Re-ranking:  46%|████▌     | 27/59 [14:08<15:59, 29.99s/it]LLM Re-ranking:  47%|████▋     | 28/59 [14:36<15:09, 29.33s/it]LLM Re-ranking:  49%|████▉     | 29/59 [15:06<14:42, 29.40s/it]LLM Re-ranking:  51%|█████     | 30/59 [15:34<14:00, 28.97s/it]LLM Re-ranking:  53%|█████▎    | 31/59 [16:03<13:35, 29.12s/it]LLM Re-ranking:  54%|█████▍    | 32/59 [16:31<12:55, 28.72s/it]LLM Re-ranking:  56%|█████▌    | 33/59 [16:58<12:16, 28.34s/it]LLM Re-ranking:  58%|█████▊    | 34/59 [17:26<11:41, 28.06s/it]LLM Re-ranking:  59%|█████▉    | 35/59 [17:53<11:10, 27.96s/it]LLM Re-ranking:  61%|██████    | 36/59 [18:21<10:37, 27.73s/it]LLM Re-ranking:  63%|██████▎   | 37/59 [18:47<09:58, 27.22s/it]LLM Re-ranking:  64%|██████▍   | 38/59 [19:13<09:27, 27.01s/it]LLM Re-ranking:  66%|██████▌   | 39/59 [19:39<08:51, 26.59s/it]LLM Re-ranking:  68%|██████▊   | 40/59 [20:05<08:23, 26.48s/it]LLM Re-ranking:  69%|██████▉   | 41/59 [20:31<07:54, 26.34s/it]LLM Re-ranking:  71%|███████   | 42/59 [20:57<07:27, 26.33s/it]LLM Re-ranking:  73%|███████▎  | 43/59 [21:22<06:53, 25.86s/it]LLM Re-ranking:  75%|███████▍  | 44/59 [21:46<06:18, 25.24s/it]LLM Re-ranking:  76%|███████▋  | 45/59 [22:10<05:48, 24.92s/it]LLM Re-ranking:  78%|███████▊  | 46/59 [22:34<05:19, 24.57s/it]LLM Re-ranking:  80%|███████▉  | 47/59 [22:58<04:54, 24.53s/it]LLM Re-ranking:  81%|████████▏ | 48/59 [23:22<04:26, 24.27s/it]LLM Re-ranking:  83%|████████▎ | 49/59 [23:46<04:02, 24.28s/it]LLM Re-ranking:  85%|████████▍ | 50/59 [24:10<03:37, 24.14s/it]LLM Re-ranking:  86%|████████▋ | 51/59 [24:33<03:10, 23.87s/it]LLM Re-ranking:  88%|████████▊ | 52/59 [24:56<02:45, 23.65s/it]LLM Re-ranking:  90%|████████▉ | 53/59 [25:19<02:20, 23.45s/it]LLM Re-ranking:  92%|█████████▏| 54/59 [25:41<01:54, 22.98s/it]LLM Re-ranking:  93%|█████████▎| 55/59 [26:02<01:29, 22.29s/it]LLM Re-ranking:  95%|█████████▍| 56/59 [26:23<01:05, 21.85s/it]LLM Re-ranking:  97%|█████████▋| 57/59 [26:43<00:43, 21.51s/it]LLM Re-ranking:  98%|█████████▊| 58/59 [27:04<00:21, 21.22s/it]LLM Re-ranking: 100%|██████████| 59/59 [27:24<00:00, 21.01s/it]LLM Re-ranking: 100%|██████████| 59/59 [27:24<00:00, 27.88s/it]
INFO:llm_reranker:Saved LLM re-ranked results to ./temp/jun-24_llm_reranked.csv
INFO:llm_reranker:
==================================================
INFO:llm_reranker:LLM RE-RANKING SUMMARY
INFO:llm_reranker:==================================================
INFO:llm_reranker:Total transactions processed: 59
INFO:llm_reranker:Successfully re-ranked: 54 (91.5%)
INFO:llm_reranker:Rejected (no good match): 5 (8.5%)
INFO:llm_reranker:LLM query failures: 0 (0.0%)
INFO:llm_reranker:==================================================
|INFO| LLM re-ranking completed. Results saved to ./temp/jun-24_llm_reranked.csv
|INFO| Completed processing jun-24
