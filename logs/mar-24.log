|INFO| FAISS index and metadata found. Skipping build. Use --build to force rebuild.
|INFO| Initializing LLM re-ranker with model: qwen2.5:7b

|INFO| Processing transaction file: dataset/transaction/mar-24.csv
|INFO| Running initial semantic matching for mar-24
Transaction Queries:   0%|          | 0/50 [00:00<?, ?it/s]Transaction Queries:   2%|▏         | 1/50 [00:01<00:57,  1.17s/it]Transaction Queries:   4%|▍         | 2/50 [00:01<00:36,  1.31it/s]Transaction Queries:   6%|▌         | 3/50 [00:02<00:29,  1.59it/s]Transaction Queries:   8%|▊         | 4/50 [00:02<00:25,  1.78it/s]Transaction Queries:  10%|█         | 5/50 [00:03<00:24,  1.86it/s]Transaction Queries:  12%|█▏        | 6/50 [00:03<00:25,  1.70it/s]Transaction Queries:  14%|█▍        | 7/50 [00:04<00:24,  1.76it/s]Transaction Queries:  16%|█▌        | 8/50 [00:05<00:30,  1.39it/s]Transaction Queries:  18%|█▊        | 9/50 [00:06<00:36,  1.11it/s]Transaction Queries:  20%|██        | 10/50 [00:07<00:39,  1.00it/s]Transaction Queries:  22%|██▏       | 11/50 [00:09<00:42,  1.08s/it]Transaction Queries:  24%|██▍       | 12/50 [00:10<00:43,  1.14s/it]Transaction Queries:  26%|██▌       | 13/50 [00:11<00:42,  1.16s/it]Transaction Queries:  28%|██▊       | 14/50 [00:12<00:42,  1.19s/it]Transaction Queries:  30%|███       | 15/50 [00:13<00:40,  1.17s/it]Transaction Queries:  32%|███▏      | 16/50 [00:15<00:40,  1.19s/it]Transaction Queries:  34%|███▍      | 17/50 [00:16<00:40,  1.21s/it]Transaction Queries:  36%|███▌      | 18/50 [00:17<00:38,  1.20s/it]Transaction Queries:  38%|███▊      | 19/50 [00:18<00:37,  1.21s/it]Transaction Queries:  40%|████      | 20/50 [00:19<00:34,  1.16s/it]Transaction Queries:  42%|████▏     | 21/50 [00:21<00:33,  1.16s/it]Transaction Queries:  44%|████▍     | 22/50 [00:22<00:32,  1.17s/it]Transaction Queries:  46%|████▌     | 23/50 [00:23<00:30,  1.12s/it]Transaction Queries:  48%|████▊     | 24/50 [00:24<00:29,  1.12s/it]Transaction Queries:  50%|█████     | 25/50 [00:25<00:28,  1.14s/it]Transaction Queries:  52%|█████▏    | 26/50 [00:26<00:27,  1.14s/it]Transaction Queries:  54%|█████▍    | 27/50 [00:27<00:26,  1.13s/it]Transaction Queries:  56%|█████▌    | 28/50 [00:28<00:24,  1.11s/it]Transaction Queries:  58%|█████▊    | 29/50 [00:29<00:23,  1.10s/it]Transaction Queries:  60%|██████    | 30/50 [00:31<00:22,  1.12s/it]Transaction Queries:  62%|██████▏   | 31/50 [00:32<00:20,  1.09s/it]Transaction Queries:  64%|██████▍   | 32/50 [00:33<00:19,  1.07s/it]Transaction Queries:  66%|██████▌   | 33/50 [00:34<00:18,  1.06s/it]Transaction Queries:  68%|██████▊   | 34/50 [00:35<00:16,  1.03s/it]Transaction Queries:  70%|███████   | 35/50 [00:36<00:15,  1.03s/it]Transaction Queries:  72%|███████▏  | 36/50 [00:37<00:14,  1.02s/it]Transaction Queries:  74%|███████▍  | 37/50 [00:38<00:12,  1.01it/s]Transaction Queries:  76%|███████▌  | 38/50 [00:39<00:11,  1.01it/s]Transaction Queries:  78%|███████▊  | 39/50 [00:40<00:10,  1.02it/s]Transaction Queries:  80%|████████  | 40/50 [00:41<00:09,  1.02it/s]Transaction Queries:  82%|████████▏ | 41/50 [00:41<00:08,  1.04it/s]Transaction Queries:  84%|████████▍ | 42/50 [00:42<00:07,  1.03it/s]Transaction Queries:  86%|████████▌ | 43/50 [00:43<00:06,  1.04it/s]Transaction Queries:  88%|████████▊ | 44/50 [00:44<00:05,  1.04it/s]Transaction Queries:  90%|█████████ | 45/50 [00:45<00:04,  1.07it/s]Transaction Queries:  92%|█████████▏| 46/50 [00:46<00:03,  1.08it/s]Transaction Queries:  94%|█████████▍| 47/50 [00:47<00:02,  1.11it/s]Transaction Queries:  96%|█████████▌| 48/50 [00:48<00:01,  1.12it/s]Transaction Queries:  98%|█████████▊| 49/50 [00:49<00:00,  1.10it/s]Transaction Queries: 100%|██████████| 50/50 [00:50<00:00,  1.10it/s]Transaction Queries: 100%|██████████| 50/50 [00:50<00:00,  1.00s/it]
INFO:llm_reranker:Loading matches from ./temp/mar-24_transaction_matches.csv
INFO:llm_reranker:Processing 150 match records...
INFO:llm_reranker:Grouping transactions by: ['t_ITEMCODE', 't_NEW_CODES', 't_STORECODE', 't_DATE']
|INFO| Saved transaction matches to ./temp/mar-24_transaction_matches.csv
|INFO| Running LLM re-ranking for mar-24
LLM Re-ranking:   0%|          | 0/50 [00:00<?, ?it/s]LLM Re-ranking:   2%|▏         | 1/50 [00:17<14:37, 17.90s/it]LLM Re-ranking:   4%|▍         | 2/50 [00:41<17:14, 21.54s/it]LLM Re-ranking:   6%|▌         | 3/50 [01:12<20:08, 25.71s/it]LLM Re-ranking:   8%|▊         | 4/50 [01:46<22:17, 29.08s/it]LLM Re-ranking:  10%|█         | 5/50 [02:24<24:06, 32.14s/it]LLM Re-ranking:  12%|█▏        | 6/50 [02:59<24:12, 33.02s/it]LLM Re-ranking:  14%|█▍        | 7/50 [03:32<23:47, 33.21s/it]LLM Re-ranking:  16%|█▌        | 8/50 [04:05<23:12, 33.15s/it]LLM Re-ranking:  18%|█▊        | 9/50 [04:38<22:33, 33.01s/it]LLM Re-ranking:  20%|██        | 10/50 [05:11<22:01, 33.05s/it]LLM Re-ranking:  22%|██▏       | 11/50 [05:44<21:28, 33.03s/it]LLM Re-ranking:  24%|██▍       | 12/50 [06:17<20:52, 32.95s/it]LLM Re-ranking:  26%|██▌       | 13/50 [06:50<20:17, 32.90s/it]LLM Re-ranking:  28%|██▊       | 14/50 [07:22<19:41, 32.82s/it]LLM Re-ranking:  30%|███       | 15/50 [07:54<18:55, 32.44s/it]LLM Re-ranking:  32%|███▏      | 16/50 [08:26<18:20, 32.37s/it]LLM Re-ranking:  34%|███▍      | 17/50 [08:58<17:39, 32.11s/it]LLM Re-ranking:  36%|███▌      | 18/50 [09:29<17:03, 31.98s/it]LLM Re-ranking:  38%|███▊      | 19/50 [10:01<16:27, 31.86s/it]LLM Re-ranking:  40%|████      | 20/50 [10:32<15:53, 31.77s/it]LLM Re-ranking:  42%|████▏     | 21/50 [11:02<14:58, 30.97s/it]LLM Re-ranking:  44%|████▍     | 22/50 [11:33<14:33, 31.20s/it]LLM Re-ranking:  46%|████▌     | 23/50 [12:03<13:49, 30.73s/it]LLM Re-ranking:  48%|████▊     | 24/50 [12:34<13:23, 30.92s/it]LLM Re-ranking:  50%|█████     | 25/50 [13:04<12:42, 30.51s/it]LLM Re-ranking:  52%|█████▏    | 26/50 [13:33<12:05, 30.21s/it]LLM Re-ranking:  54%|█████▍    | 27/50 [14:03<11:30, 30.00s/it]LLM Re-ranking:  56%|█████▌    | 28/50 [14:33<10:58, 29.92s/it]LLM Re-ranking:  58%|█████▊    | 29/50 [15:00<10:15, 29.29s/it]LLM Re-ranking:  60%|██████    | 30/50 [15:30<09:49, 29.46s/it]LLM Re-ranking:  62%|██████▏   | 31/50 [15:58<09:08, 28.89s/it]LLM Re-ranking:  64%|██████▍   | 32/50 [16:25<08:33, 28.50s/it]LLM Re-ranking:  66%|██████▌   | 33/50 [16:53<08:00, 28.27s/it]LLM Re-ranking:  68%|██████▊   | 34/50 [17:20<07:27, 27.99s/it]LLM Re-ranking:  70%|███████   | 35/50 [17:48<06:58, 27.90s/it]LLM Re-ranking:  72%|███████▏  | 36/50 [18:16<06:31, 27.93s/it]LLM Re-ranking:  74%|███████▍  | 37/50 [18:43<06:00, 27.70s/it]LLM Re-ranking:  76%|███████▌  | 38/50 [19:10<05:28, 27.34s/it]LLM Re-ranking:  78%|███████▊  | 39/50 [19:36<04:55, 26.90s/it]LLM Re-ranking:  80%|████████  | 40/50 [20:02<04:27, 26.72s/it]LLM Re-ranking:  82%|████████▏ | 41/50 [20:28<03:58, 26.46s/it]LLM Re-ranking:  84%|████████▍ | 42/50 [20:54<03:31, 26.44s/it]LLM Re-ranking:  86%|████████▌ | 43/50 [21:19<03:01, 25.97s/it]LLM Re-ranking:  88%|████████▊ | 44/50 [21:43<02:31, 25.23s/it]LLM Re-ranking:  90%|█████████ | 45/50 [22:07<02:04, 24.92s/it]LLM Re-ranking:  92%|█████████▏| 46/50 [22:31<01:38, 24.56s/it]LLM Re-ranking:  94%|█████████▍| 47/50 [22:55<01:13, 24.60s/it]LLM Re-ranking:  96%|█████████▌| 48/50 [23:19<00:48, 24.24s/it]LLM Re-ranking:  98%|█████████▊| 49/50 [23:43<00:24, 24.33s/it]LLM Re-ranking: 100%|██████████| 50/50 [24:07<00:00, 24.15s/it]LLM Re-ranking: 100%|██████████| 50/50 [24:07<00:00, 28.95s/it]
INFO:llm_reranker:Saved LLM re-ranked results to ./temp/mar-24_llm_reranked.csv
INFO:llm_reranker:
==================================================
INFO:llm_reranker:LLM RE-RANKING SUMMARY
INFO:llm_reranker:==================================================
INFO:llm_reranker:Total transactions processed: 50
INFO:llm_reranker:Successfully re-ranked: 48 (96.0%)
INFO:llm_reranker:Rejected (no good match): 2 (4.0%)
INFO:llm_reranker:LLM query failures: 0 (0.0%)
INFO:llm_reranker:==================================================
|INFO| LLM re-ranking completed. Results saved to ./temp/mar-24_llm_reranked.csv
|INFO| Completed processing mar-24
