|INFO| FAISS index and metadata found. Skipping build. Use --build to force rebuild.
|INFO| Initializing LLM re-ranker with model: qwen2.5:7b

|INFO| Processing transaction file: dataset/transaction/jun-23.csv
|INFO| Running initial semantic matching for jun-23
Transaction Queries:   0%|          | 0/54 [00:00<?, ?it/s]Transaction Queries:   2%|▏         | 1/54 [00:01<01:00,  1.14s/it]Transaction Queries:   4%|▎         | 2/54 [00:01<00:38,  1.33it/s]Transaction Queries:   6%|▌         | 3/54 [00:02<00:32,  1.59it/s]Transaction Queries:   7%|▋         | 4/54 [00:02<00:27,  1.79it/s]Transaction Queries:   9%|▉         | 5/54 [00:03<00:26,  1.87it/s]Transaction Queries:  11%|█         | 6/54 [00:03<00:28,  1.71it/s]Transaction Queries:  13%|█▎        | 7/54 [00:04<00:26,  1.79it/s]Transaction Queries:  15%|█▍        | 8/54 [00:04<00:28,  1.60it/s]Transaction Queries:  17%|█▋        | 9/54 [00:06<00:37,  1.19it/s]Transaction Queries:  19%|█▊        | 10/54 [00:07<00:42,  1.03it/s]Transaction Queries:  20%|██        | 11/54 [00:08<00:45,  1.06s/it]Transaction Queries:  22%|██▏       | 12/54 [00:10<00:47,  1.12s/it]Transaction Queries:  24%|██▍       | 13/54 [00:11<00:46,  1.13s/it]Transaction Queries:  26%|██▌       | 14/54 [00:12<00:47,  1.18s/it]Transaction Queries:  28%|██▊       | 15/54 [00:13<00:46,  1.18s/it]Transaction Queries:  30%|██▉       | 16/54 [00:14<00:44,  1.18s/it]Transaction Queries:  31%|███▏      | 17/54 [00:16<00:44,  1.20s/it]Transaction Queries:  33%|███▎      | 18/54 [00:17<00:43,  1.20s/it]Transaction Queries:  35%|███▌      | 19/54 [00:18<00:42,  1.21s/it]Transaction Queries:  37%|███▋      | 20/54 [00:19<00:40,  1.18s/it]Transaction Queries:  39%|███▉      | 21/54 [00:20<00:38,  1.16s/it]Transaction Queries:  41%|████      | 22/54 [00:22<00:37,  1.17s/it]Transaction Queries:  43%|████▎     | 23/54 [00:23<00:35,  1.14s/it]Transaction Queries:  44%|████▍     | 24/54 [00:24<00:33,  1.13s/it]Transaction Queries:  46%|████▋     | 25/54 [00:25<00:33,  1.14s/it]Transaction Queries:  48%|████▊     | 26/54 [00:26<00:30,  1.10s/it]Transaction Queries:  50%|█████     | 27/54 [00:27<00:31,  1.15s/it]Transaction Queries:  52%|█████▏    | 28/54 [00:28<00:29,  1.14s/it]Transaction Queries:  54%|█████▎    | 29/54 [00:29<00:27,  1.10s/it]Transaction Queries:  56%|█████▌    | 30/54 [00:30<00:26,  1.12s/it]Transaction Queries:  57%|█████▋    | 31/54 [00:31<00:25,  1.10s/it]Transaction Queries:  59%|█████▉    | 32/54 [00:33<00:23,  1.08s/it]Transaction Queries:  61%|██████    | 33/54 [00:34<00:22,  1.06s/it]Transaction Queries:  63%|██████▎   | 34/54 [00:35<00:20,  1.04s/it]Transaction Queries:  65%|██████▍   | 35/54 [00:35<00:19,  1.02s/it]Transaction Queries:  67%|██████▋   | 36/54 [00:37<00:18,  1.02s/it]Transaction Queries:  69%|██████▊   | 37/54 [00:37<00:17,  1.01s/it]Transaction Queries:  70%|███████   | 38/54 [00:38<00:15,  1.02it/s]Transaction Queries:  72%|███████▏  | 39/54 [00:39<00:14,  1.02it/s]Transaction Queries:  74%|███████▍  | 40/54 [00:40<00:13,  1.00it/s]Transaction Queries:  76%|███████▌  | 41/54 [00:41<00:12,  1.03it/s]Transaction Queries:  78%|███████▊  | 42/54 [00:42<00:11,  1.03it/s]Transaction Queries:  80%|███████▉  | 43/54 [00:43<00:10,  1.02it/s]Transaction Queries:  81%|████████▏ | 44/54 [00:44<00:09,  1.05it/s]Transaction Queries:  83%|████████▎ | 45/54 [00:45<00:08,  1.07it/s]Transaction Queries:  85%|████████▌ | 46/54 [00:46<00:07,  1.08it/s]Transaction Queries:  87%|████████▋ | 47/54 [00:47<00:06,  1.12it/s]Transaction Queries:  89%|████████▉ | 48/54 [00:48<00:05,  1.12it/s]Transaction Queries:  91%|█████████ | 49/54 [00:49<00:04,  1.10it/s]Transaction Queries:  93%|█████████▎| 50/54 [00:50<00:03,  1.10it/s]Transaction Queries:  94%|█████████▍| 51/54 [00:50<00:02,  1.09it/s]Transaction Queries:  96%|█████████▋| 52/54 [00:51<00:01,  1.11it/s]Transaction Queries:  98%|█████████▊| 53/54 [00:52<00:00,  1.13it/s]Transaction Queries: 100%|██████████| 54/54 [00:53<00:00,  1.15it/s]Transaction Queries: 100%|██████████| 54/54 [00:53<00:00,  1.01it/s]
INFO:llm_reranker:Loading matches from ./temp/jun-23_transaction_matches.csv
INFO:llm_reranker:Processing 162 match records...
INFO:llm_reranker:Grouping transactions by: ['t_ITEMCODE', 't_NEW_CODES', 't_STORECODE', 't_DATE']
|INFO| Saved transaction matches to ./temp/jun-23_transaction_matches.csv
|INFO| Running LLM re-ranking for jun-23
LLM Re-ranking:   0%|          | 0/54 [00:00<?, ?it/s]LLM Re-ranking:   2%|▏         | 1/54 [00:20<18:21, 20.79s/it]LLM Re-ranking:   4%|▎         | 2/54 [00:41<18:11, 20.99s/it]LLM Re-ranking:   6%|▌         | 3/54 [01:12<21:37, 25.43s/it]LLM Re-ranking:   7%|▋         | 4/54 [01:49<24:57, 29.96s/it]LLM Re-ranking:   9%|▉         | 5/54 [02:27<26:54, 32.95s/it]LLM Re-ranking:  11%|█         | 6/54 [03:02<26:44, 33.42s/it]LLM Re-ranking:  13%|█▎        | 7/54 [03:34<26:00, 33.20s/it]LLM Re-ranking:  15%|█▍        | 8/54 [04:07<25:24, 33.13s/it]LLM Re-ranking:  17%|█▋        | 9/54 [04:40<24:43, 32.97s/it]LLM Re-ranking:  19%|█▊        | 10/54 [05:13<24:13, 33.03s/it]LLM Re-ranking:  20%|██        | 11/54 [05:46<23:41, 33.05s/it]LLM Re-ranking:  22%|██▏       | 12/54 [06:19<23:02, 32.93s/it]LLM Re-ranking:  24%|██▍       | 13/54 [06:52<22:28, 32.90s/it]LLM Re-ranking:  26%|██▌       | 14/54 [07:24<21:49, 32.75s/it]LLM Re-ranking:  28%|██▊       | 15/54 [07:57<21:20, 32.83s/it]LLM Re-ranking:  30%|██▉       | 16/54 [08:29<20:38, 32.60s/it]LLM Re-ranking:  31%|███▏      | 17/54 [09:01<19:54, 32.27s/it]LLM Re-ranking:  33%|███▎      | 18/54 [09:32<19:13, 32.05s/it]LLM Re-ranking:  35%|███▌      | 19/54 [10:04<18:36, 31.89s/it]LLM Re-ranking:  37%|███▋      | 20/54 [10:33<17:41, 31.21s/it]LLM Re-ranking:  39%|███▉      | 21/54 [11:05<17:09, 31.20s/it]LLM Re-ranking:  41%|████      | 22/54 [11:34<16:24, 30.77s/it]LLM Re-ranking:  43%|████▎     | 23/54 [12:06<16:00, 30.98s/it]LLM Re-ranking:  44%|████▍     | 24/54 [12:35<15:16, 30.56s/it]LLM Re-ranking:  46%|████▋     | 25/54 [13:05<14:35, 30.20s/it]LLM Re-ranking:  48%|████▊     | 26/54 [13:34<14:01, 30.05s/it]LLM Re-ranking:  50%|█████     | 27/54 [14:04<13:26, 29.87s/it]LLM Re-ranking:  52%|█████▏    | 28/54 [14:34<12:55, 29.84s/it]LLM Re-ranking:  54%|█████▎    | 29/54 [15:03<12:23, 29.74s/it]LLM Re-ranking:  56%|█████▌    | 30/54 [15:31<11:41, 29.23s/it]LLM Re-ranking:  57%|█████▋    | 31/54 [16:01<11:14, 29.34s/it]LLM Re-ranking:  59%|█████▉    | 32/54 [16:28<10:34, 28.82s/it]LLM Re-ranking:  61%|██████    | 33/54 [16:56<09:57, 28.45s/it]LLM Re-ranking:  63%|██████▎   | 34/54 [17:24<09:23, 28.18s/it]LLM Re-ranking:  65%|██████▍   | 35/54 [17:51<08:51, 27.99s/it]LLM Re-ranking:  67%|██████▋   | 36/54 [18:18<08:20, 27.78s/it]LLM Re-ranking:  69%|██████▊   | 37/54 [18:44<07:42, 27.22s/it]LLM Re-ranking:  70%|███████   | 38/54 [19:11<07:12, 27.02s/it]LLM Re-ranking:  72%|███████▏  | 39/54 [19:37<06:39, 26.63s/it]LLM Re-ranking:  74%|███████▍  | 40/54 [20:03<06:10, 26.50s/it]LLM Re-ranking:  76%|███████▌  | 41/54 [20:29<05:42, 26.33s/it]LLM Re-ranking:  78%|███████▊  | 42/54 [20:55<05:16, 26.34s/it]LLM Re-ranking:  80%|███████▉  | 43/54 [21:20<04:44, 25.90s/it]LLM Re-ranking:  81%|████████▏ | 44/54 [21:44<04:12, 25.26s/it]LLM Re-ranking:  83%|████████▎ | 45/54 [22:08<03:43, 24.87s/it]LLM Re-ranking:  85%|████████▌ | 46/54 [22:31<03:16, 24.55s/it]LLM Re-ranking:  87%|████████▋ | 47/54 [22:56<02:51, 24.56s/it]LLM Re-ranking:  89%|████████▉ | 48/54 [23:20<02:25, 24.29s/it]LLM Re-ranking:  91%|█████████ | 49/54 [23:44<02:01, 24.29s/it]LLM Re-ranking:  93%|█████████▎| 50/54 [24:08<01:36, 24.17s/it]LLM Re-ranking:  94%|█████████▍| 51/54 [24:31<01:11, 23.86s/it]LLM Re-ranking:  96%|█████████▋| 52/54 [24:54<00:47, 23.68s/it]LLM Re-ranking:  98%|█████████▊| 53/54 [25:17<00:23, 23.48s/it]LLM Re-ranking:  98%|█████████▊| 53/54 [25:17<00:28, 28.64s/it]
INFO:llm_reranker:Saved LLM re-ranked results to ./temp/jun-23_llm_reranked.csv
INFO:llm_reranker:
==================================================
INFO:llm_reranker:LLM RE-RANKING SUMMARY
INFO:llm_reranker:==================================================
INFO:llm_reranker:Total transactions processed: 53
INFO:llm_reranker:Successfully re-ranked: 49 (92.5%)
INFO:llm_reranker:Rejected (no good match): 4 (7.5%)
INFO:llm_reranker:LLM query failures: 0 (0.0%)
INFO:llm_reranker:==================================================
|INFO| LLM re-ranking completed. Results saved to ./temp/jun-23_llm_reranked.csv
|INFO| Completed processing jun-23
